// Select2 Minimal Local Build - Fallback
// Provides basic Select2 functionality when CDN fails

if (typeof jQuery !== "undefined" && jQuery.fn) {
  jQuery.fn.select2 =
    jQuery.fn.select2 ||
    function (options) {
      options = options || {};
      return this.each(function () {
        const $el = jQuery(this);

        // Mark as select2-hidden-accessible to prevent re-initialization
        $el.addClass("select2-hidden-accessible");
        $el.data("select2", true);

        // Basic styling for select
        $el.css({
          padding: "8px",
          border: "1px solid #ddd",
          "border-radius": "4px",
          "font-size": "14px",
          "background-color": "#fff",
        });

        // Handle placeholder
        if (options.placeholder && !$el.find('option[value=""]').length) {
          $el.prepend('<option value="">' + options.placeholder + "</option>");
        }
      });
    };

  // Make select2 accessible
  window.select2Available = true;
  if (typeof $ !== "undefined" && typeof $.fn !== "undefined") {
    $.fn.select2 = $.fn.select2 || jQuery.fn.select2;
  }

  console.log("âœ… Select2 Local (minimal) carregado");
}
